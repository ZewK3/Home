<!DOCTYPE html>
<html lang="vi" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hệ thống quản lý nhân sự chuyên nghiệp">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" href="../../assets/icons/favicon-32x32.png" sizes="32x32">
    <title>HR Management System - Dashboard</title>
    
    <!-- Modern CSS Architecture -->
    <link rel="stylesheet" href="../../assets/css/foundation.css">
    <link rel="stylesheet" href="../../assets/css/theme.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
</head>
<body>
    <!-- Dashboard Loading Screen -->
    <div id="dashboardLoader" class="dashboard-loader">
        <div class="loader-content">
            <div class="dual-spinner-container">
                <div class="spinner-outer"></div>
                <div class="spinner-inner"></div>
            </div>
            <h3 class="loader-title">Đang tải Dashboard...</h3>
            <p class="loader-subtitle">Vui lòng đợi trong giây lát</p>
            <div class="loader-progress">
                <div class="progress-bar"></div>
            </div>
        </div>
        <div class="loader-background">
            <div class="floating-particles">
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
            </div>
        </div>
    </div>

    <!-- Application Container -->
    <div id="dashboardContent" class="dashboard-content">
        <div class="dashboard-layout">
            <!-- Sidebar -->
            <aside class="app-sidebar" aria-label="Thanh điều hướng">
                <!-- Sidebar Header -->
                <div class="sidebar-header">
                    <div class="sidebar-logo">
                        <span class="material-icons-round">business</span>
                    </div>
                    <div class="sidebar-title">HR System</div>
                </div>

                <!-- Sidebar Navigation -->
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <div class="nav-section-title">Quản Lý Công Việc</div>
                        <ul class="nav-menu">
                            <li class="nav-item has-children" data-menu-id="work-management">
                                <a href="#" class="nav-link" aria-expanded="false">
                                    <span class="material-icons-round nav-icon">work_outline</span>
                                    <span class="nav-text">Quản lý công việc</span>
                                    <span class="material-icons-round nav-arrow">chevron_right</span>
                                </a>
                                <ul class="sub-menu">
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="work-management">
                                            <span class="nav-text">Quản Lý Công</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="timesheet">
                                            <span class="nav-text">Bảng Công</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="attendance">
                                            <span class="nav-text">Chấm Công</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="work-tasks">
                                            <span class="nav-text">Công Việc</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item has-children" data-menu-id="requests">
                                <a href="#" class="nav-link" aria-expanded="false">
                                    <span class="material-icons-round nav-icon">request_page</span>
                                    <span class="nav-text">Yêu cầu</span>
                                    <span class="material-icons-round nav-arrow">chevron_right</span>
                                </a>
                                <ul class="sub-menu">
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="submit-request">
                                            <span class="nav-text">Gửi Yêu Cầu</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="attendance-request">
                                            <span class="nav-text">Đơn Từ</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="task-assignment">
                                            <span class="nav-text">Nhiệm Vụ</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">Quản Trị</div>
                        <ul class="nav-menu">
                            <li class="nav-item has-children" data-menu-id="admin">
                                <a href="#" class="nav-link" aria-expanded="false">
                                    <span class="material-icons-round nav-icon">admin_panel_settings</span>
                                    <span class="nav-text">Quản trị hệ thống</span>
                                    <span class="material-icons-round nav-arrow">chevron_right</span>
                                </a>
                                <ul class="sub-menu">
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="personal-info">
                                            <span class="nav-text">Thông tin cá nhân</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="grant-access">
                                            <span class="nav-text">Phân quyền</span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="nav-link" data-item-id="statistics">
                                            <span class="nav-text">Thống kê</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </nav>

                <!-- Sidebar User Info -->
                <div class="sidebar-user">
                    <div class="user-avatar">A</div>
                    <div class="user-info">
                        <div class="user-name">Administrator</div>
                        <div class="user-role">Quản trị viên</div>
                    </div>
                    <button class="user-menu" aria-label="User menu">
                        <span class="material-icons-round">more_vert</span>
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Header -->
                <header class="dashboard-header">
                    <div class="header-left">
                        <nav class="breadcrumb">
                            <a href="#">home</a>
                            <span class="breadcrumb-separator">/</span>
                            <span>Dashboard</span>
                        </nav>
                        <h1 class="page-title">Hệ Thống Quản Lý Nhân Sự</h1>
                    </div>
                    
                    <div class="header-right">
                        <div class="header-time">
                            <div id="currentDateDisplay">8/30/2025</div>
                            <div id="currentTimeDisplay">6:49:28 PM</div>
                        </div>
                        <button class="refresh-btn" id="refreshDashboard">
                            <span class="material-icons-round">refresh</span>
                        </button>
                        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                            <span class="material-icons-round">dark_mode</span>
                        </button>
                    </div>
                </header>

                <!-- Dashboard Body -->
                <div class="dashboard-body">
                    <!-- Statistics Cards -->
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <div class="card-icon primary">
                                <span class="material-icons-round">people</span>
                            </div>
                            <div class="card-content">
                                <div class="stat-number" id="totalEmployees">248</div>
                                <div class="stat-label">Tổng Nhân Viên</div>
                            </div>
                        </div>
                        
                        <div class="dashboard-card">
                            <div class="card-icon success">
                                <span class="material-icons-round">schedule</span>
                            </div>
                            <div class="card-content">
                                <div class="stat-number" id="todayShift">42/43</div>
                                <div class="stat-label">Ca Hôm Nay</div>
                            </div>
                        </div>
                        
                        <div class="dashboard-card">
                            <div class="card-icon warning">
                                <span class="material-icons-round">pending_actions</span>
                            </div>
                            <div class="card-content">
                                <div class="stat-number" id="pendingRequests">7</div>
                                <div class="stat-label">Yêu Cầu Chờ</div>
                            </div>
                        </div>
                        
                        <div class="dashboard-card">
                            <div class="card-icon info">
                                <span class="material-icons-round">trending_up</span>
                            </div>
                            <div class="card-content">
                                <div class="stat-number" id="attendance">97.2%</div>
                                <div class="stat-label">Tỷ Lệ Chấm Công</div>
                            </div>
                        </div>
                    </div>

                    <!-- Testing Section -->
                    <div class="dashboard-card" style="margin-top: 2rem;">
                        <h2>Sidebar Testing</h2>
                        <p>This is a simplified dashboard for testing the enhanced sidebar functionality.</p>
                        
                        <h3>Test Instructions:</h3>
                        <ul style="margin: 1rem 0; padding-left: 2rem;">
                            <li>Click on "Quản lý công việc" to test parent menu expansion</li>
                            <li>Click on "Yêu cầu" to test another parent menu</li>
                            <li>Click on "Quản trị hệ thống" to test the third parent menu</li>
                            <li>Try clicking submenu items to test active states</li>
                            <li>Test theme switching with the theme toggle button</li>
                            <li>Test responsive behavior by resizing the window</li>
                        </ul>
                        
                        <h3>Current Status</h3>
                        <div style="margin: 1rem 0;">
                            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                <span style="padding: 0.5rem 1rem; background: var(--success); color: white; border-radius: 0.5rem;">✅ Sidebar Structure Updated</span>
                                <span style="padding: 0.5rem 1rem; background: var(--success); color: white; border-radius: 0.5rem;">✅ CSS Architecture Clean</span>
                                <span style="padding: 0.5rem 1rem; background: var(--success); color: white; border-radius: 0.5rem;">✅ JavaScript Integration</span>
                                <span style="padding: 0.5rem 1rem; background: var(--info); color: white; border-radius: 0.5rem;">🎯 Theme System Active</span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="../../assets/js/theme-manager.js"></script>
    <script src="../../assets/js/sidebar-manager.js"></script>
    
    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading screen after a short delay
            setTimeout(() => {
                const loader = document.getElementById('dashboardLoader');
                const content = document.getElementById('dashboardContent');
                
                if (loader && content) {
                    loader.classList.add('hidden');
                    content.classList.add('loaded');
                }
            }, 1000);
            
            // Update time display
            function updateTime() {
                const now = new Date();
                const dateDisplay = document.getElementById('currentDateDisplay');
                const timeDisplay = document.getElementById('currentTimeDisplay');
                
                if (dateDisplay) {
                    dateDisplay.textContent = now.toLocaleDateString('vi-VN');
                }
                
                if (timeDisplay) {
                    timeDisplay.textContent = now.toLocaleTimeString('vi-VN');
                }
            }
            
            // Update time every second
            updateTime();
            setInterval(updateTime, 1000);
            
            // Refresh button
            const refreshBtn = document.getElementById('refreshDashboard');
            if (refreshBtn) {
                refreshBtn.addEventListener('click', () => {
                    window.location.reload();
                });
            }
        });
    </script>
</body>
</html>