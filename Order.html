<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ƒê·∫∑t h√†ng Tocotoco</title>
  <link rel="stylesheet" href="Order.css">
  <!-- T·∫£i th∆∞ vi·ªán jQuery ƒë·ªÉ x·ª≠ l√Ω autocomplete -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
</head>
<body>
  <header>
    <div class="logo">
      <img src="https://tocotocotea.com/wp-content/uploads/2023/08/logo-tocotoco.png" alt="Tocotoco Logo">
    </div>
    <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
    <div class="auth-buttons">
      <button id="login-button" onclick="showLoginPopup(false)">ƒêƒÉng nh·∫≠p</button>
      <button id="register-button" onclick="showLoginPopup(true)">ƒêƒÉng k√Ω</button>
      <button id="logout-button" onclick="logout()" style="display: none;">ƒêƒÉng xu·∫•t</button>
    </div>
    <div id="user-info" style="display: none;">
      <span id="user-name-display"></span>
      <div class="exp-bar">
        <div id="exp-fill"></div>
      </div>
      <span id="user-points"></span>
      <span id="rank-icon" class="rank-icon"></span>
    </div>
  </header>

  <div class="container">
    <aside id="sidebar">
      <ul id="category-list"></ul>
    </aside>
    <main>
      <div id="product-list"></div>
    </main>
    <div class="cart">
      <button onclick="showCartTab()">
        <span id="cart-count">0</span> üõí
      </button>
    </div>
  </div>

  <!-- Popup ch·ªçn t√πy ch·ªçn s·∫£n ph·∫©m -->
  <div id="popup" class="popup">
    <div class="popup-content">
      <h2 id="popup-title">Ch·ªçn t√πy ch·ªçn</h2>
      <h3 id="popup-product-name"></h3>
      <div id="size-section" class="option-section">
        <label>Size:</label>
        <div id="size-options"></div>
      </div>
      <div id="topping-section" class="option-section">
        <label>Topping:</label>
        <div id="topping-options"></div>
      </div>
      <div id="sugar-section" class="option-section">
        <label>M·ª©c ƒë∆∞·ªùng:</label>
        <div id="sugar-options"></div>
      </div>
      <div id="ice-section" class="option-section">
        <label>M·ª©c ƒë√°:</label>
        <div id="ice-options"></div>
      </div>
      <div class="option-section">
        <label>S·ªë l∆∞·ª£ng:</label>
        <input type="number" id="quantity-input" min="1" value="1">
      </div>
      <div class="option-section">
        <label>Ghi ch√∫:</label>
        <textarea id="note-input" placeholder="Nh·∫≠p ghi ch√∫ n·∫øu c√≥"></textarea>
      </div>
      <div class="popup-buttons">
        <button onclick="closePopup()">H·ªßy</button>
        <button id="popup-action-btn">Th√™m v√†o gi·ªè</button>
      </div>
    </div>
  </div>

  <!-- Popup gi·ªè h√†ng v√† l·ªãch s·ª≠ -->
  <div id="cart-popup" class="popup">
    <div class="popup-content">
      <div class="tab-buttons">
        <button class="tab-button active" onclick="showCartTab()">Gi·ªè h√†ng</button>
        <button class="tab-button" onclick="showHistoryTab()">L·ªãch s·ª≠</button>
      </div>
      <div id="cart-tab">
        <ul id="cart-items"></ul>
        <div id="cart-total">T·ªïng c·ªông: 0 VNƒê</div>
        <div class="popup-buttons">
          <button onclick="closeCart()">ƒê√≥ng</button>
          <button onclick="placeOrder()">ƒê·∫∑t h√†ng</button>
        </div>
      </div>
      <div id="history-tab" style="display: none;">
        <ul id="history-items"></ul>
        <div class="popup-buttons">
          <button onclick="closeCart()">ƒê√≥ng</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup chi ti·∫øt ƒë∆°n h√†ng -->
  <div id="order-details-popup" class="popup">
    <div class="popup-content">
      <h2>Chi ti·∫øt ƒë∆°n h√†ng</h2>
      <div id="order-details-content"></div>
      <div class="popup-buttons">
        <button onclick="closeOrderDetailsPopup()">ƒê√≥ng</button>
      </div>
    </div>
  </div>

  <!-- Popup ph√≥ng to h√¨nh ·∫£nh -->
  <div id="zoom-popup" class="popup">
    <div class="popup-content">
      <img id="zoom-image" src="" alt="Product Image">
      <h3 id="zoom-product-name"></h3>
      <p id="zoom-product-price"></p>
      <button onclick="closeZoomPopup()">ƒê√≥ng</button>
    </div>
  </div>

  <!-- Popup QR thanh to√°n -->
  <div id="qr-popup" class="popup">
    <div class="popup-content">
      <h2>Thanh to√°n qua QR</h2>
      <img id="popup-qr-image" src="" alt="QR Code">
      <p id="qr-amount">S·ªë ti·ªÅn: 0 VNƒê</p>
      <p id="countdown">15:00</p>
      <div class="popup-buttons">
        <button id="download-qr" onclick="transactionTracker.downloadQRCode()">T·∫£i QR</button>
        <button id="cancel-transaction" onclick="cancelTransaction()">H·ªßy</button>
      </div>
    </div>
  </div>

  <!-- Popup ƒëƒÉng nh·∫≠p/ƒëƒÉng k√Ω -->
  <div id="auth-popup" class="popup">
    <div class="popup-content">
      <h2 id="auth-title">ƒêƒÉng nh·∫≠p</h2>
      <div class="auth-form">
        <label for="user-name">H·ªç t√™n:</label>
        <input type="text" id="user-name" placeholder="Nh·∫≠p h·ªç t√™n" style="display: none;">
        <label for="user-email">Email:</label>
        <input type="email" id="user-email" placeholder="Nh·∫≠p email">
        <label for="user-password">M·∫≠t kh·∫©u:</label>
        <input type="password" id="user-password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
        <div class="popup-buttons">
          <button onclick="submitAuth()">X√°c nh·∫≠n</button>
          <button onclick="document.getElementById('auth-popup').style.display='none'">H·ªßy</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup ch·ªçn ƒë·ªãa ch·ªâ giao h√†ng -->
  <div id="delivery-popup" class="popup">
    <div class="popup-content">
      <h2>Ch·ªçn ƒë·ªãa ch·ªâ giao h√†ng</h2>
      <div class="option-section">
        <label for="delivery-address">ƒê·ªãa ch·ªâ:</label>
        <input type="text" id="delivery-address" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ giao h√†ng">
      </div>
      <div id="distance-info" style="margin-top: 10px;"></div>
      <div class="popup-buttons">
        <button onclick="closeDeliveryPopup()">H·ªßy</button>
        <button id="confirm-delivery-btn" disabled>X√°c nh·∫≠n</button>
      </div>
    </div>
  </div>

  <script src="Order.js"></script>
</body>
</html>
